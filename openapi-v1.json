{"openapi":"3.1.0","info":{"title":"Hedra API","description":"\n\n## Base URL\nAll paths are referenced from the base URL: `https://mercury.dev.dream-ai.com/api`\n\n## Example usage\n### 1. Upload audio\n`audio_response = requests.post(f\"{BASE_URL}/v1/audio\", headers={'X-API-KEY': API_KEY}, files={'file': open('audio.mp3','rb')})`\n\n### 2. Upload image\n`image_response = requests.post(f\"{BASE_URL}/v1/portrait\", headers={'X-API-KEY': API_KEY}, files={'file': open('img.png','rb')})`\n\n### 3. Generate character video\n`video_response = requests.post(f\"{BASE_URL}/v1/characters\", headers={'X-API-KEY': API_KEY}, json={\"avatarImage\": image_response.json()[\"url\"], \"audioSource\": \"audio\", \"voiceUrl\": audio_response.json()[\"url\"]})`\n\n### 4. Call the Project endpoint to see your project / job status and get access to the URL of your generated character.\n`project_status = requests.get(f\"{BASE_URL}/v1/projects/{project_id}\", headers={'X-API-KEY': API_KEY})`\n\n","version":"0.1.0"},"servers":[{"url":"/api"}],"paths":{"/v1/voices":{"get":{"tags":["Voice"],"summary":"Retrieve available voices","operationId":"api_access_get_voices_v1_voices_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VoicesResponseBody"}}}}},"security":[{"APIKeyHeader":[]}]}},"/v1/audio":{"post":{"tags":["Audio"],"summary":"Upload audio","operationId":"api_access_upload_audio_v1_audio_post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"content-length","in":"header","required":false,"schema":{"type":"integer","default":-1,"title":"Content-Length"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_api_access_upload_audio_v1_audio_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadAudioResponseBody"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/portrait":{"post":{"tags":["Portrait"],"summary":"Upload image","operationId":"api_access_upload_image_v1_portrait_post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"aspect_ratio","in":"query","required":false,"schema":{"type":"string","default":"1:1","title":"Aspect Ratio"}},{"name":"content-length","in":"header","required":false,"schema":{"type":"integer","default":-1,"title":"Content-Length"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_api_access_upload_image_v1_portrait_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadAudioResponseBody"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/characters":{"post":{"tags":["Characters"],"summary":"Initialize character generation","operationId":"api_access_initialize_talking_head_avatar_v1_characters_post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"content-length","in":"header","required":false,"schema":{"type":"integer","default":-1,"title":"Content-Length"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiGenerateTalkingAvatarRequestBody"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiProjectInitializationResponseBody"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/projects":{"get":{"tags":["Projects"],"summary":"Get all project for the current user","operationId":"api_access_get_all_user_projects_v1_projects_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetUserAvatarJobsResponse"}}}}},"security":[{"APIKeyHeader":[]}]}},"/v1/projects/{project_id}":{"get":{"tags":["Projects"],"summary":"Get project","operationId":"api_access_get_project_v1_projects__project_id__get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AvatarProjectItem"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Projects"],"summary":"Delete a project","operationId":"api_access_delete_project_v1_projects__project_id__delete","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/projects/{project_id}/sharing":{"post":{"tags":["Projects"],"summary":"Share or unshare a project","operationId":"api_access_share_project_v1_projects__project_id__sharing_post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}},{"name":"shared","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Shared"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/healthz":{"get":{"summary":"Ping","operationId":"ping_healthz_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/ping":{"get":{"summary":"Ping","operationId":"ping_ping_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/v1/user/register":{"post":{"summary":"Register User","description":"This is the registration endpoint, ported from the golang API.\nHowever, this is using a new url / path (/v1/user/register instead of /register -- which will end up being:\n/api/v1/user/register\nNOTE: this will automatically trigger creating brevo contacts","operationId":"register_user_v1_user_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterUserModel"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetUserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/images/text-to-image":{"post":{"summary":"Generate Image Endpoint","description":"Generate an image from a text prompt or modify an existing image using advanced parameters.","operationId":"generate_image_endpoint_v1_images_text_to_image_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageGenerationRequestBody"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImageGenerationResponseBody"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]}]}}},"components":{"schemas":{"ApiGenerateTalkingAvatarRequestBody":{"properties":{"text":{"type":"string","title":"Text","description":"text to convert to audio. Ignored if audio_source is not tts","default":""},"voiceId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Voiceid","description":"Voice ID"},"voiceUrl":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Voiceurl","description":"URL of audio uploaded using the /v1/audio endpoint"},"avatarImage":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatarimage","description":"URL of image uploaded via /v1/portrait or base64-encoded image"},"aspectRatio":{"type":"string","enum":["1:1","16:9","9:16"],"title":"Aspectratio","description":"Desired aspect ratio for the generated video","default":"1:1"},"audioSource":{"type":"string","enum":["tts","audio"],"title":"Audiosource","description":"`tts` for text to speech or `audio`","default":"audio"},"avatarImageInput":{"anyOf":[{"$ref":"#/components/schemas/AvatarImageInput"},{"type":"null"}],"description":"Image metadata"}},"type":"object","title":"ApiGenerateTalkingAvatarRequestBody"},"ApiProjectInitializationResponseBody":{"properties":{"jobId":{"type":"string","title":"Jobid"}},"type":"object","required":["jobId"],"title":"ApiProjectInitializationResponseBody"},"AvatarImageInput":{"properties":{"seed":{"type":"integer","title":"Seed"},"prompt":{"type":"string","title":"Prompt"}},"type":"object","required":["prompt"],"title":"AvatarImageInput"},"AvatarProjectItem":{"properties":{"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id"},"createdAt":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Createdat"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"videoUrl":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Videourl"},"avatarImageUrl":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatarimageurl"},"aspectRatio":{"type":"string","enum":["1:1","16:9","9:16"],"title":"Aspectratio"},"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text"},"voiceId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Voiceid"},"voiceUrl":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Voiceurl"},"userId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Userid"},"jobType":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Jobtype"},"status":{"anyOf":[{"$ref":"#/components/schemas/AvatarProjectStatus"},{"type":"null"}]},"stage":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Stage"},"progress":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Progress"},"errorMessage":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Errormessage"},"audioSource":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Audiosource"},"avatarImageInput":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Avatarimageinput"},"shared":{"type":"boolean","title":"Shared","default":false}},"type":"object","required":["aspectRatio"],"title":"AvatarProjectItem"},"AvatarProjectStatus":{"type":"string","enum":["Queued","InProgress","Completed","Failed"],"title":"AvatarProjectStatus"},"Body_api_access_upload_audio_v1_audio_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_api_access_upload_audio_v1_audio_post"},"Body_api_access_upload_image_v1_portrait_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_api_access_upload_image_v1_portrait_post"},"ControlNet":{"properties":{"conditioning_scale":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Conditioning Scale"},"control_mode":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Control Mode"},"begin_step_percent":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Begin Step Percent"},"end_step_percent":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"End Step Percent"},"control_guidance_start":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Control Guidance Start"},"control_guidance_end":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Control Guidance End"}},"type":"object","title":"ControlNet"},"ControlNetUnion":{"properties":{"conditioning_scale":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Conditioning Scale"},"control_mode":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Control Mode"},"begin_step_percent":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Begin Step Percent"},"end_step_percent":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"End Step Percent"},"control_guidance_start":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Control Guidance Start"},"control_guidance_end":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Control Guidance End"}},"type":"object","title":"ControlNetUnion"},"GeneratedImage":{"properties":{"url":{"type":"string","title":"Url","description":"URL of the generated image"},"content_type":{"type":"string","title":"Content Type","description":"Content type of the image","default":"image/jpeg"}},"type":"object","required":["url"],"title":"GeneratedImage"},"GetUserAvatarJobsResponse":{"properties":{"projects":{"items":{"$ref":"#/components/schemas/AvatarProjectItem"},"type":"array","title":"Projects"}},"type":"object","required":["projects"],"title":"GetUserAvatarJobsResponse"},"GetUserResponse":{"properties":{"data":{"$ref":"#/components/schemas/UserInfo"}},"type":"object","required":["data"],"title":"GetUserResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ImageGenerationRequestBody":{"properties":{"prompt":{"type":"string","title":"Prompt","description":"The prompt to generate the image from"},"num_inference_steps":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Num Inference Steps","description":"Number of inference steps"},"controlnets":{"items":{"$ref":"#/components/schemas/ControlNet"},"type":"array","title":"Controlnets","description":"List of ControlNet configurations"},"controlnet_unions":{"items":{"$ref":"#/components/schemas/ControlNetUnion"},"type":"array","title":"Controlnet Unions","description":"List of ControlNet union configurations"},"ip_adapters":{"items":{"$ref":"#/components/schemas/IpAdapter"},"type":"array","title":"Ip Adapters","description":"List of IP-Adapter configurations"},"guidance_scale":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Guidance Scale","description":"Guidance scale for the generation"},"real_cfg_scale":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Real Cfg Scale","description":"Real CFG scale"},"num_images":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Num Images","description":"Number of images to generate"},"enable_safety_checker":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enable Safety Checker","description":"Whether to enable safety checker"},"reference_strength":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Reference Strength","description":"Reference strength"},"reference_end":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Reference End","description":"Reference end"},"image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Url","description":"Optional source image URL for image-to-image generation"},"strength":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Strength","description":"Strength of the conditioning"},"aspect_ratio":{"type":"string","enum":["1:1","16:9","9:16"],"title":"Aspect Ratio","description":"Desired aspect ratio for the generated image","default":"16:9"},"seed":{"type":"integer","title":"Seed","description":"Seed for the generation"}},"type":"object","required":["prompt"],"title":"ImageGenerationRequestBody"},"ImageGenerationResponseBody":{"properties":{"images":{"items":{"$ref":"#/components/schemas/GeneratedImage"},"type":"array","title":"Images","description":"The generated image files info"},"timings":{"anyOf":[{"$ref":"#/components/schemas/Timings"},{"type":"null"}],"description":"Timing information"},"seed":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Seed","description":"Seed used for generation"},"has_nsfw_concepts":{"anyOf":[{"items":{"type":"boolean"},"type":"array"},{"type":"null"}],"title":"Has Nsfw Concepts","description":"Whether images contain NSFW concepts"},"prompt":{"type":"string","title":"Prompt","description":"The prompt used for generating the image"}},"type":"object","required":["images","prompt"],"title":"ImageGenerationResponseBody","description":"Response body for image generation requests"},"IpAdapter":{"properties":{"image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Url"},"weight":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Weight"}},"type":"object","title":"IpAdapter"},"RegisterUserModel":{"properties":{"residence_not_blocked":{"type":"string","title":"Residence Not Blocked"},"tos_accepted":{"type":"boolean","title":"Tos Accepted"},"tos_version":{"type":"string","title":"Tos Version"},"marketing_email_consent":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Marketing Email Consent","default":"NONE"},"ai_training_opt_out":{"type":"boolean","title":"Ai Training Opt Out","default":false}},"type":"object","required":["residence_not_blocked","tos_accepted","tos_version"],"title":"RegisterUserModel"},"TierLimits":{"properties":{"maxInputLength":{"type":"integer","title":"Maxinputlength"},"maxAudioDuration":{"type":"integer","title":"Maxaudioduration"}},"type":"object","required":["maxInputLength","maxAudioDuration"],"title":"TierLimits"},"Timings":{"properties":{"total":{"type":"number","title":"Total","description":"Total time taken for generation"}},"type":"object","required":["total"],"title":"Timings","description":"Timing information for the generation process"},"UploadAudioResponseBody":{"properties":{"url":{"type":"string","title":"Url"}},"type":"object","required":["url"],"title":"UploadAudioResponseBody"},"UserInfo":{"properties":{"userId":{"type":"string","title":"Userid"},"username":{"type":"string","title":"Username","default":"Unknown"},"avatarUrl":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatarurl"},"accountTier":{"type":"string","title":"Accounttier","default":"free"},"apiAccountTier":{"type":"string","title":"Apiaccounttier","default":"free"},"webSubscriptionEnd":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Websubscriptionend"},"avatarProjectCreditUsed":{"type":"integer","title":"Avatarprojectcreditused","default":0},"avatarProjectCreditLimit":{"type":"integer","title":"Avatarprojectcreditlimit","default":250},"avatarProjectWebCreditUsed":{"type":"integer","title":"Avatarprojectwebcreditused","default":0},"avatarProjectWebCreditLimit":{"type":"integer","title":"Avatarprojectwebcreditlimit","default":0},"allowWebCreditOverages":{"type":"boolean","title":"Allowwebcreditoverages","default":false},"webCreditOverageMax":{"type":"integer","title":"Webcreditoveragemax","default":300},"allowApiCreditOverages":{"type":"boolean","title":"Allowapicreditoverages","default":false},"apiCreditOverageMax":{"type":"integer","title":"Apicreditoveragemax","default":300},"avatarConsent":{"type":"boolean","title":"Avatarconsent"},"subscriptionState":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subscriptionstate"},"tosAcceptableDate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tosacceptabledate"},"tosAcceptedVersion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tosacceptedversion"},"apiSubscriptionState":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Apisubscriptionstate"},"apiTOSAcceptance":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Apitosacceptance","default":false},"marketingEmailConsent":{"type":"string","title":"Marketingemailconsent","default":"NONE"},"aiTrainingOptOut":{"type":"boolean","title":"Aitrainingoptout"},"residenceLegalConfirmed":{"type":"string","title":"Residencelegalconfirmed","default":"NONE"},"dresidenceLegalUpdatedAt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dresidencelegalupdatedat"},"tierLimits":{"$ref":"#/components/schemas/TierLimits","default":{"maxInputLength":300,"maxAudioDuration":30000}}},"type":"object","required":["userId","avatarConsent","aiTrainingOptOut"],"title":"UserInfo"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"Voice":{"properties":{"voice_id":{"type":"string","title":"Voice Id"},"service":{"anyOf":[{"type":"string","enum":["eleven"],"const":"eleven"},{"type":"string","enum":["cartesia"],"const":"cartesia"}],"title":"Service"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"labels":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Labels"},"preview_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Preview Url"},"premium":{"type":"boolean","title":"Premium","default":false},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["voice_id","service"],"title":"Voice"},"VoicesResponseBody":{"properties":{"supported_voices":{"items":{"$ref":"#/components/schemas/Voice"},"type":"array","title":"Supported Voices"}},"type":"object","required":["supported_voices"],"title":"VoicesResponseBody"}},"securitySchemes":{"APIKeyHeader":{"type":"apiKey","in":"header","name":"X-API-Key"},"JWTBearer":{"type":"http","scheme":"bearer"}}}}